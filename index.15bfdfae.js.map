{"mappings":"gfAAA,IAiBoBA,EACFC,EAlBlBC,EAAAC,EAAA,S,uCAgBMC,GADWC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAChCC,EAAmE,QAArDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOC,sBAAc,IAArDb,IAAyD,GACvEc,EAA+D,QAAnDb,EAAAO,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOG,oBAAY,IAAnDd,IAAuD,GA6BzE,SAASe,EAAYC,GACnB,IAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,YAAYC,MAAK,SAAAC,G,OAAKA,EAAFJ,KAAgBJ,C,KA7B7C,EAAAS,EAAAC,cAAaL,EAAAC,YAAapB,GAE1BA,EAAOyB,iBAAiB,SAExB,SAAqBC,GAEnB,GADAA,EAAEC,iBACED,EAAEE,OAAOC,UAAUC,SAAS,WAAY,CAC1C,IAAMC,EAAUnB,EAAYc,EAAEE,SAC9B,EAAAI,EAAAC,aAAYF,E,CAGd,GAAIL,EAAEE,OAAOC,UAAUC,SAAS,aAAc,CAC5C,IAAMI,EAAUtB,EAAYc,EAAEE,QAE9BlB,EAAUyB,KAAKD,GACf5B,aAAa8B,QAAQtC,EAAAU,OAAOG,WAAYP,KAAKiC,UAAU3B,G,CAEzD,GAAIgB,EAAEE,OAAOC,UAAUC,SAAS,eAAgB,CAC9C,IAAMQ,EAAU1B,EAAYc,EAAEE,QACZzB,EAAYoC,MAAK,SAAAjB,G,OAAKA,EAAFJ,KAAgBoB,EAAQpB,E,MAE5Df,EAAYgC,KAAKG,GACjBhC,aAAa8B,QAAQtC,EAAAU,OAAOC,aAAcL,KAAKiC,UAAUlC,I,KAU/D,IAAMqC,EAAoB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,OAEpD,SAAoBC,EAAaC,GAC/B,IAAMC,EAAUF,EAAYG,KAAI,SAAAC,GAC9B,OAAOA,EAAOC,MAAM,I,IAEtBC,QAAQC,IAAIL,GACZ,IAAMM,EAAkBN,EAAQO,QAAO,SAAAL,G,OACrCA,EAAO,GAAGM,SAASX,EAAkBY,KAAK,M,IAE5CL,QAAQC,IAAIC,E,CAGdI,CACE,CAAC,cAAe,UAAW,SAAU,aAAc,e","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMarkup } from './helper/createMarkup';\nimport { createModal } from './helper/createModal';\nimport { instruments } from './helper/instruments';\n\nimport 'basiclightbox/dist/basicLightbox.min.css';\n/*\n *Задание\n *1. Нарисовать разметку из массива объектов\n *2. Написать логику нажатия на More Information. Используя simplelightbox сделать модалку с развертыванием полной инфы по продукту\n *3. Добавить закрытие по ESC\n *4. Добавить возможность сохранять товары в favorite и basket в локальном хранилище\n *5. На страницах корзины и favorite добавить кнопку удаления элемента\n */\n\nconst searchEl = document.querySelector('.js-search');\nconst listEl = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkup(instruments, listEl);\n\nlistEl.addEventListener('click', onInfoClick);\n\nfunction onInfoClick(e) {\n  e.preventDefault();\n  if (e.target.classList.contains('js-info')) {\n    const product = findProduct(e.target);\n    createModal(product);\n  }\n\n  if (e.target.classList.contains('js-basket')) {\n    const product = findProduct(e.target);\n\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n  if (e.target.classList.contains('js-favorite')) {\n    const product = findProduct(e.target);\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (!inStorage) {\n      favoriteArr.push(product);\n      localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n    }\n  }\n}\n\nfunction findProduct(elem) {\n  const productId = Number(elem.closest('.js-card').dataset.id);\n  return instruments.find(({ id }) => id === productId);\n}\n\nconst REQUIRED_ELEMENTS = ['H', 'C', 'N', 'O', 'P', 'Ca'];\n\nfunction bestPlanet(solarSystem, maxSize) {\n  const planets = solarSystem.map(planet => {\n    return planet.split('_');\n  });\n  console.log(planets);\n  const filteredPlanets = planets.filter(planet =>\n    planet[0].includes(REQUIRED_ELEMENTS.join(', '))\n  );\n  console.log(filteredPlanets);\n}\n\nbestPlanet(\n  ['OHNCCaP_100', 'OHC_200', 'OCa_50', 'OHCCaP_400', 'OHNCCaP_225'],\n  250\n);\n"],"names":["$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$7jJJd","parcelRequire","$b8f9b7833fa37166$var$listEl","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$b8f9b7833fa37166$var$basketArr","KEY_BASKET","$b8f9b7833fa37166$var$findProduct","elem","productId","Number","closest","dataset","id","$gi86K","instruments","find","param","$9FPnu","createMarkup","addEventListener","e","preventDefault","target","classList","contains","product","$6veBv","createModal","product1","push","setItem","stringify","product2","some","$b8f9b7833fa37166$var$REQUIRED_ELEMENTS","solarSystem","maxSize","planets","map","planet","split","console","log","filteredPlanets","filter","includes","join","$b8f9b7833fa37166$var$bestPlanet"],"version":3,"file":"index.15bfdfae.js.map"}
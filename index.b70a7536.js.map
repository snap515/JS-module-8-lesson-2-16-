{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAeiBC,SAASC,cAAc,cAAxC,MACMC,EAASF,SAASC,cAAc,Y,IAClBE,EAApB,MAAMC,EAAmE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDP,IAAyD,G,IAC3DQ,EAAlB,MAAMC,EAA+D,QAAnDD,EAAAN,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOI,oBAAY,IAAnDF,IAAuD,GA6BzE,SAASG,EAAYC,GACnB,MAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,YAAYC,MAAK,EAACH,GAAEA,KAASA,IAAOJ,G,EA7B7C,EAAAQ,EAAAC,cAAaJ,EAAAC,YAAapB,GAE1BA,EAAOwB,iBAAiB,SAExB,SAAqBC,GAEnB,GADAA,EAAEC,iBACED,EAAEE,OAAOC,UAAUC,SAAS,WAAY,CAC1C,MAAMC,EAAUlB,EAAYa,EAAEE,SAC9B,EAAAI,EAAAC,aAAYF,E,CAGd,GAAIL,EAAEE,OAAOC,UAAUC,SAAS,aAAc,CAC5C,MAAMC,EAAUlB,EAAYa,EAAEE,QAE9BjB,EAAUuB,KAAKH,GACfzB,aAAa6B,QAAQtC,EAAAW,OAAOI,WAAYR,KAAKgC,UAAUzB,G,CAEzD,GAAIe,EAAEE,OAAOC,UAAUC,SAAS,eAAgB,CAC9C,MAAMC,EAAUlB,EAAYa,EAAEE,QACZzB,EAAYkC,MAAK,EAAClB,GAAEA,KAASA,IAAOY,EAAQZ,OAE5DhB,EAAY+B,KAAKH,GACjBzB,aAAa6B,QAAQtC,EAAAW,OAAOC,aAAcL,KAAKgC,UAAUjC,I,KAU/D,MAAMmC,EAAoB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,OAEpD,SAAoBC,EAAaC,GAC/B,MAAMC,EAAUF,EAAYG,KAAIC,GACvBA,EAAOC,MAAM,OAEtBC,QAAQC,IAAIL,GACZ,MAAMM,EAAkBN,EAAQO,QAAOL,GACrCA,EAAO,GAAGM,SAASX,EAAkBY,KAAK,SAE5CL,QAAQC,IAAIC,E,CAGdI,CACE,CAAC,cAAe,UAAW,SAAU,aAAc","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createMarkup } from './helper/createMarkup';\nimport { createModal } from './helper/createModal';\nimport { instruments } from './helper/instruments';\n\nimport 'basiclightbox/dist/basicLightbox.min.css';\n/*\n *Задание\n *1. Нарисовать разметку из массива объектов\n *2. Написать логику нажатия на More Information. Используя simplelightbox сделать модалку с развертыванием полной инфы по продукту\n *3. Добавить закрытие по ESC\n *4. Добавить возможность сохранять товары в favorite и basket в локальном хранилище\n *5. На страницах корзины и favorite добавить кнопку удаления элемента\n */\n\nconst searchEl = document.querySelector('.js-search');\nconst listEl = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreateMarkup(instruments, listEl);\n\nlistEl.addEventListener('click', onInfoClick);\n\nfunction onInfoClick(e) {\n  e.preventDefault();\n  if (e.target.classList.contains('js-info')) {\n    const product = findProduct(e.target);\n    createModal(product);\n  }\n\n  if (e.target.classList.contains('js-basket')) {\n    const product = findProduct(e.target);\n\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n  if (e.target.classList.contains('js-favorite')) {\n    const product = findProduct(e.target);\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (!inStorage) {\n      favoriteArr.push(product);\n      localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n    }\n  }\n}\n\nfunction findProduct(elem) {\n  const productId = Number(elem.closest('.js-card').dataset.id);\n  return instruments.find(({ id }) => id === productId);\n}\n\nconst REQUIRED_ELEMENTS = ['H', 'C', 'N', 'O', 'P', 'Ca'];\n\nfunction bestPlanet(solarSystem, maxSize) {\n  const planets = solarSystem.map(planet => {\n    return planet.split('_');\n  });\n  console.log(planets);\n  const filteredPlanets = planets.filter(planet =>\n    planet[0].includes(REQUIRED_ELEMENTS.join(', '))\n  );\n  console.log(filteredPlanets);\n}\n\nbestPlanet(\n  ['OHNCCaP_100', 'OHC_200', 'OCa_50', 'OHCCaP_400', 'OHNCCaP_225'],\n  250\n);\n"],"names":["$UDlvM","parcelRequire","document","querySelector","$1f0dc3b9307be026$var$listEl","$1f0dc3b9307be026$var$ref","$1f0dc3b9307be026$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$1f0dc3b9307be026$var$ref1","$1f0dc3b9307be026$var$basketArr","KEY_BASKET","$1f0dc3b9307be026$var$findProduct","elem","productId","Number","closest","dataset","id","$6vhu4","instruments","find","$lVWmB","createMarkup","addEventListener","e","preventDefault","target","classList","contains","product","$kTP3e","createModal","push","setItem","stringify","some","$1f0dc3b9307be026$var$REQUIRED_ELEMENTS","solarSystem","maxSize","planets","map","planet","split","console","log","filteredPlanets","filter","includes","join","$1f0dc3b9307be026$var$bestPlanet"],"version":3,"file":"index.b70a7536.js.map"}